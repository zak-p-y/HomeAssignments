!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="778b7373-81b7-3116-ae24-57985120f8fd")}catch(e){}}();
define(["exports","./c_chat_dialogue_dialogue_stone_proto_transformer","./c_api_v2_routes_growth_provider","./e_core_exception"],(function(e,t,a,i){"use strict";const n=e=>{if(void 0!==e)return new t.ChatMetadata({cookieDomain:e.cookie_domain,cookieCampaignName:e.cookie_campaign_name,legacyCookieCampaignName:e.legacy_cookie_campaign_name})},o=e=>{if(void 0!==e)return new t.UserProperties({chatHmac:e.chat_hmac,email:e.email,firstName:e.first_name,lastName:e.last_name,pageLoadTs:e.page_load_ts,pricings:e.pricings,sessionId:e.session_id,userId:e.user_id,serviceTier:e.service_tier,locale:e.locale,countryCode:e.country_code,authToken:e.auth_token})},r=e=>{const a=e.proactive_type;if(void 0===a)throw new Error("Proactive Message Type undefined");const i=a[".tag"];if("default"===i)return t.ProactiveMessageType.DEFAULT;if("minimized_proactive"===i)return t.ProactiveMessageType.MINIMIZED_PROACTIVE;throw new Error(`Unknown tag for proactive message type ${i}`)},s=e=>{if(void 0!==e)return new t.ProactiveSettings({proactiveType:r(e),whenToShowControlledByProvider:e.when_to_show_controlled_by_provider,secondsUntilShown:e.seconds_until_shown?a.protoInt64.parse(e.seconds_until_shown):void 0,coolOffPeriodMinutes:e.cool_off_period_minutes?a.protoInt64.parse(e.cool_off_period_minutes):void 0})},g=e=>{if(void 0===e)return;const a=e[".tag"];if("hidden"===a)return t.ChatInitialState.HIDDEN;if("show_provider_reactive_button"===a)return t.ChatInitialState.SHOW_PROVIDER_REACTIVE_BUTTON;throw new Error(`Unknown tag for chat initial state ${a}`)},_=e=>{if(void 0===e)return;const i=(e=>{const a=e.system_settings;let i,n;return a&&(e=>"snapengage_chat_system_settings"===e[".tag"])(a)?i=new t.SnapengageChatSystemSettings({widgetId:a.widget_id}):a&&(e=>"dialogue_chat_system_settings"===e[".tag"])(a)&&(n=t.convertStoneSettingsToProto(a)),{snapengageSettings:i,dialogueSettings:n}})(e);let n;return n=i.snapengageSettings?{case:"snapengageChatSystemSettings",value:i.snapengageSettings}:i.dialogueSettings?{case:"dialogueChatSystemSettings",value:i.dialogueSettings}:{case:void 0},new t.CampaignResult({campaignId:e.campaign_id?a.protoInt64.parse(e.campaign_id):void 0,versionId:e.version_id?a.protoInt64.parse(e.version_id):void 0,campaignName:e.campaign_name,versionName:e.version_name,systemSettings:n,mustHaveAvailableAgents:e.must_have_available_agents,proactiveSettings:s(e.proactive_settings),greetingMessage:e.greeting_message,chatInitialState:g(e.chat_initial_state),persistenceCookie:e.persistence_cookie,deprecatedExperimentNameToLog:e.deprecated_experiment_name_to_log,deprecatedExperimentVariantToLog:e.deprecated_experiment_variant_to_log,isControl:e.is_control})},c=e=>{if(void 0===e)return;const a=e[".tag"];if("snapengage"===a)return t.ChatProviderType.SNAPENGAGE;if("dialogue_chat"===a)return t.ChatProviderType.DIALOGUE_CHAT;throw new Error(`Unknown tag for chat provider type ${a}`)};e.chatStoneToProto=e=>{return new t.ChatInitializerProperties({chatMetadata:n(e.chat_metadata),userProperties:o(e.user_properties),campaignResult:_(e.campaign_result),resume:e.resume,chatProviderType:c(e.chat_provider_type),chatProviderMetadata:(a=e.chat_provider_metadata,void 0===a?{case:void 0}:"snapengage_chat_metadata"===a[".tag"]?{case:"snapengageChatMetadata",value:new t.SnapengageChatMetadata({snapengageIframeOrigin:a.snapengage_iframe_origin})}:{case:void 0}),loggingCorrelationId:e.logging_correlation_id});var a}}));
//# sourceMappingURL=c_chat_chat_stone_to_proto.js-vflsC-_Wa.map

//# debugId=778b7373-81b7-3116-ae24-57985120f8fd