!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="f0f93af9-ae29-3133-81ec-aec5f6de1318")}catch(e){}}();
define(["require","exports","react","./e_file_viewer_static_scl_page_file","./c_ui_locked-state-modal_open_locked_state_modal","./c_ui_over-quota-sweep-blocking-modal_over_quota_sweep_blocking_modal_wrapper"],(function(t,e,a,n,o,r){"use strict";function s(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(e,a,n.get?n:{enumerable:!0,get:function(){return t[a]}})}})),e.default=t,Object.freeze(e)}var l=s(a);const c="ops.trials.locked_state_modal_wrapper_loading",u=({children:e,action:a,onStatusChange:r})=>{const s=(e=>{const[a,r]=l.default.useState(n.Status.LOADING),{viewer:s,isLoading:c}=n.useViewer();return l.default.useEffect((()=>{var l;if(a!==n.Status.LOADING)return;if(c)return;if(!o.getIsUserEligibleForLockedStateModal(s))return void r(n.Status.USER_NOT_ELIGIBLE_FOR_LOCKED_STATE_MODAL);const u={action:e,isAdmin:(null===(l=s.active_user)||void 0===l?void 0:l.is_team_admin)||!1,teamName:s.team_name||"",continueCallback:()=>{r(n.Status.USER_CONTINUED_ACTION)},abortCallback:()=>{r(n.Status.USER_ABORTED_ACTION)}};new Promise((function(e,a){t(["./c_ui_locked-state-modal_open_locked_state_modal"],e,a)})).then((t=>{t.openLockedStateModal(u).then((t=>{t||r(n.Status.FAILURE)}))})),r(n.Status.OPEN)}),[e,a,s,c]),a})(a),u=l.default.useRef(null);return l.default.useEffect((()=>{s!==u.current&&(r(s),u.current=s,s===n.Status.LOADING?n.UDCL.logStart(c,{tags:{action:a}}):s===n.Status.OPEN?n.UDCL.logEnd(c,{eventState:"success",tags:{action:a}}):s===n.Status.USER_NOT_ELIGIBLE_FOR_LOCKED_STATE_MODAL?n.UDCL.logEnd(c,{eventState:"canceled",tags:{action:a}}):s===n.Status.FAILURE?n.UDCL.logEnd(c,{eventState:"failed",tags:{action:a}}):s!==n.Status.USER_CONTINUED_ACTION&&s!==n.Status.USER_ABORTED_ACTION||n.UDCL.logEvent("ops.trials.locked_state_modal_wrapper_end_state",{tags:{status:s,action:a}}))}),[s,r,a]),s===n.Status.LOADING||s===n.Status.OPEN||s===n.Status.USER_ABORTED_ACTION?null:l.default.createElement(l.default.Fragment,null,e)};u.displayName="LockedStateModalWrapper";const i=t=>{const{children:e,action:a,withLockedStateModal:n=!0,onStatusChange:o}=t;return l.createElement(r.OverQuotaSweepBlockingModalWrapperWithProviders,{action:a,onStatusChange:o},n?l.createElement(u,{action:a,onStatusChange:o},e):e)};i.displayName="ShareBlockingWrapper",e.ShareBlockingWrapper=i}));
//# sourceMappingURL=c_ui_share-blocking-wrapper_share_blocking_wrapper.js-vfluaW2T6.map

//# debugId=f0f93af9-ae29-3133-81ec-aec5f6de1318