!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="1de5bcc9-538a-3eec-86e4-a36f1acaa1b9")}catch(e){}}();
define(["exports","react","./e_file_viewer_static_scl_page_file","./c_api_v2_routes_growth_provider","./e_data_modules_stormcrow","./c_init_data_edison","./e_core_exception","./c_core_i18n","./c_dig-components_card_index","./c_trial-plan-card_components_header","./c_dig-icons_assets_ui-icon_line_upsell","./c_src_sink_index","./c_bem","./c_lodash-es_lodash","./c_hive_schemas_sharing-request_access_user_events","./e_edison","./c_pap-events_navigation_select_create_folder_action","./c_react-use_misc_util","./c_api_v2_unauthed_client","./c_spectrum_util_raf_throttle","./c_memoize-one","./c_core_notify","react-dom","./c_chat_chat_constants","./c_security_csrf_hmac","./c_react_jsx-runtime","./c_watermarking_utils_getImageDefaultSizes","metaserver/static/js/langpack","react/jsx-runtime","./c_dig-components_combinations_index"],(function(e,t,a,o,n,l,r,s,i,c,d,u,m,_,p,f,E,S,T,M,L,A,C,g,y,P,k,h,D,N){"use strict";function x(e){return e&&e.__esModule?e:{default:e}}var U=x(t);function O(e){return{class:"locked_state",action:"shown",object:"locked_state_message",properties:e}}const b=(e,t,o,n)=>{const l={actionSurface:e,actionElement:t,userRole:o?a.UserRole.TEAM_ADMIN:a.UserRole.TEAM_MEMBER,fssTeamType:n||a.FssTeamType.FSS_TEAM_TYPE_UNKNOWN};a.UDCL.logEvent(function(e){return{class:"locked_state",action:"select",object:"locked_state_message",properties:e}}(l),{tags:l})};var v,B,F;!function(e){e[e.SURFACE_UNKNOWN=0]="SURFACE_UNKNOWN",e[e.LOCKED_STATE_PLUS_UPSELL_MODAL=1]="LOCKED_STATE_PLUS_UPSELL_MODAL"}(v||(v={})),o.proto3.util.setEnumType(v,"growth_trials_teams.Surface",[{no:0,name:"SURFACE_UNKNOWN"},{no:1,name:"LOCKED_STATE_PLUS_UPSELL_MODAL"}]),function(e){e[e.FSS_TEAM_TYPE_UNKNOWN=0]="FSS_TEAM_TYPE_UNKNOWN",e[e.FSS_CHURNED_TEAM=1]="FSS_CHURNED_TEAM",e[e.FSS_EXPIRED_TRIAL_TEAM=2]="FSS_EXPIRED_TRIAL_TEAM"}(B||(B={})),o.proto3.util.setEnumType(B,"growth_trials_teams.TeamType",[{no:0,name:"FSS_TEAM_TYPE_UNKNOWN"},{no:1,name:"FSS_CHURNED_TEAM"},{no:2,name:"FSS_EXPIRED_TRIAL_TEAM"}]),function(e){e[e.MISSING_SURFACE=0]="MISSING_SURFACE",e[e.USER_NOT_ON_TEAM=1]="USER_NOT_ON_TEAM",e[e.TEAM_SURFACE_PROPS_FETCH_FAILED=2]="TEAM_SURFACE_PROPS_FETCH_FAILED"}(F||(F={})),o.proto3.util.setEnumType(F,"growth_trials_teams.GetTeamSurfacePropsError",[{no:0,name:"MISSING_SURFACE"},{no:1,name:"USER_NOT_ON_TEAM"},{no:2,name:"TEAM_SURFACE_PROPS_FETCH_FAILED"}]);class R extends o.Message{constructor(e){super(),this.surface=v.SURFACE_UNKNOWN,o.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new R).fromBinary(e,t)}static fromJson(e,t){return(new R).fromJson(e,t)}static fromJsonString(e,t){return(new R).fromJsonString(e,t)}static equals(e,t){return o.proto3.util.equals(R,e,t)}}R.runtime=o.proto3,R.typeName="growth_trials_teams.GetTeamSurfacePropsRequest",R.fields=o.proto3.util.newFieldList((()=>[{no:1,name:"surface",kind:"enum",T:o.proto3.getEnumType(v)}]));class w extends o.Message{constructor(e){super(),this.isTeamAdmin=!1,this.numberOfActiveMembersInTeam=0,this.teamUsageBytes=o.protoInt64.zero,this.isFssIndividualBasicPlan=!1,this.fssTeamType=B.FSS_TEAM_TYPE_UNKNOWN,this.currentFssTeamPlanDisplayName="",this.currentFssTeamPlanDropboxBrandDisplayName="",this.currentFssTeamPlanAdvertisedMonthlyPricePerLicenseInYearContract="",o.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new w).fromBinary(e,t)}static fromJson(e,t){return(new w).fromJson(e,t)}static fromJsonString(e,t){return(new w).fromJsonString(e,t)}static equals(e,t){return o.proto3.util.equals(w,e,t)}}w.runtime=o.proto3,w.typeName="growth_trials_teams.GetTeamSurfacePropsResponse",w.fields=o.proto3.util.newFieldList((()=>[{no:1,name:"is_team_admin",kind:"scalar",T:8},{no:2,name:"number_of_active_members_in_team",kind:"scalar",T:5},{no:3,name:"team_usage_bytes",kind:"scalar",T:3},{no:4,name:"is_fss_individual_basic_plan",kind:"scalar",T:8},{no:5,name:"fss_team_type",kind:"enum",T:o.proto3.getEnumType(B)},{no:6,name:"current_fss_team_plan_display_name",kind:"scalar",T:9},{no:7,name:"current_fss_team_plan_dropbox_brand_display_name",kind:"scalar",T:9},{no:8,name:"current_fss_team_plan_advertised_monthly_price_per_license_in_year_contract",kind:"scalar",T:9},{no:9,name:"locked_state_plus_upsell_modal_props",kind:"message",T:I}]));class I extends o.Message{constructor(e){super(),this.currentTeamPlanFeatureList=[],this.plusPlanDisplayName="",this.plusPlanDropboxBrandDisplayName="",this.plusPlanAdvertisedMonthlyPriceInYearContract="",this.plusPlanFeatureList=[],o.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new I).fromBinary(e,t)}static fromJson(e,t){return(new I).fromJson(e,t)}static fromJsonString(e,t){return(new I).fromJsonString(e,t)}static equals(e,t){return o.proto3.util.equals(I,e,t)}}I.runtime=o.proto3,I.typeName="growth_trials_teams.SurfaceProps",I.fields=o.proto3.util.newFieldList((()=>[{no:1,name:"current_team_plan_feature_list",kind:"scalar",T:9,repeated:!0},{no:2,name:"plus_plan_display_name",kind:"scalar",T:9},{no:3,name:"plus_plan_dropbox_brand_display_name",kind:"scalar",T:9},{no:4,name:"plus_plan_advertised_monthly_price_in_year_contract",kind:"scalar",T:9},{no:5,name:"plus_plan_feature_list",kind:"scalar",T:9,repeated:!0}]));const K={typeName:"growth_trials_teams.TeamSurfaceProps",methods:{getTeamSurfaceProps:{name:"GetTeamSurfaceProps",I:R,O:w,kind:l.MethodKind.Unary}}},H=a.createAPIv2GRPCWebPromiseClient(K),W="growth_trials_teams.TeamSurfaceProps:GetTeamSurfaceProps",Y=n.createGenericQuery({queryRouteFilter:["custom",W],queryFn:({apiArg:e})=>async({})=>({apiData:await H.getTeamSurfaceProps({surface:e.surface}),pkgData:null}),getQueryKey:n.getGenericQueryKey("custom",W)}),G=async()=>{var e;try{const[t,o,l]=await Promise.all([a.fetchViewer(),a.fetchQueryExperiment("trials_2025_05_08_upsell_plus_locked_state_modal"),Y.fetchQuery(n.queryClient,{apiArg:{surface:v.LOCKED_STATE_PLUS_UPSELL_MODAL},pkgArg:null})]),r=null===(e=null==o?void 0:o.apiData)||void 0===e?void 0:e.variant,s=l.apiData,i=(e=>{switch(e.fssTeamType){case B.FSS_CHURNED_TEAM:return a.FssTeamType.FSS_CHURNED_TEAM;case B.FSS_EXPIRED_TRIAL_TEAM:return a.FssTeamType.FSS_EXPIRED_TRIAL_TEAM;default:return a.FssTeamType.FSS_TEAM_TYPE_UNKNOWN}})(s),c=l&&((e,t)=>e.isTeamAdmin&&1===e.numberOfActiveMembersInTeam&&e.teamUsageBytes<BigInt(2199023255552)&&e.isFssIndividualBasicPlan&&!t.is_paired)(s,t),d=c&&"V1"===r;return c&&"OFF"!==r&&a.logExposure({feature:"trials_2025_05_08_upsell_plus_locked_state_modal",variant:r}),{shouldShowLockedStatePlusUpsellModal:d,teamSurfaceProps:s,fssTeamType:i}}catch(e){return r.reportException({err:e,tags:["trials","locked_state_modal"]}),{shouldShowLockedStatePlusUpsellModal:!1,teamSurfaceProps:null,fssTeamType:a.FssTeamType.FSS_TEAM_TYPE_UNKNOWN}}},q=e=>{const[o,n]=t.useState(!0);return U.default.createElement(a.Modal,{open:o,isCentered:!0,withCloseButton:e.closeAriaLabel,onAfterClose:e.onAfterClose,onRequestClose:()=>{e.closeButtonOnClick(),n(!1)},"aria-labelledby":"locked-state-modal-title"},U.default.createElement(a.Modal.Header,null),U.default.createElement(a.Modal.Body,{className:a.atoms({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"})},U.default.createElement(a.Box,null,U.default.createElement(a.Title,null,e.modalTitleText),U.default.createElement(a.Text,{variant:"paragraph"},e.modalBodyText))),U.default.createElement(a.Modal.Footer,{preferComposition:!0},U.default.createElement(a.Box,{display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:{small:"row",xsmall:"column-reverse"},rowGap:{xsmall:"Macro Small"},width:"100%"},e.tertiaryCTA&&U.default.createElement(a.Button,{variant:"transparent",onClick:()=>{var t;null===(t=e.tertiaryCTA)||void 0===t||t.onClick(),n(!1)}},e.tertiaryCTA.text),U.default.createElement(a.Box,{display:"flex",justifyContent:{xsmall:"center",small:"flex-end"},flexWrap:"wrap-reverse",columnGap:"Micro Small",rowGap:{xsmall:"Macro Small"},width:"100%"},U.default.createElement(a.Button,{variant:"opacity",onClick:()=>{e.secondaryCTA.onClick(),n(!1)}},e.secondaryCTA.text),U.default.createElement(a.Button,{variant:"primary",onClick:()=>{e.primaryCTA.onClick(),n(!1)}},e.primaryCTA.text)))))};q.displayName="LockedStateModal";const J=s.intl.formatMessage({id:"bBu9g1",defaultMessage:"Upgrade to keep uploading"}),X=s.intl.formatMessage({id:"KSor86",defaultMessage:"To keep uploading, ask admin to upgrade"}),j=s.intl.formatMessage({id:"qhA0AP",defaultMessage:"Upgrade to access advanced sharing"}),V=s.intl.formatMessage({id:"rvfXAf",defaultMessage:"For advanced sharing, ask admin to upgrade"}),z=s.intl.formatMessage({id:"SuuWCu",defaultMessage:"Upgrade to use all features"}),Q=s.intl.formatMessage({id:"urJGUK",defaultMessage:"To use all features, ask admin to upgrade"}),Z=s.intl.formatMessage({id:"NDfnKy",defaultMessage:"Leave team"}),$=s.intl.formatMessage({id:"UV1N5Y",defaultMessage:"Cancel team"}),ee=s.intl.formatMessage({id:"JF7/t9",defaultMessage:"Purchase plan"}),te=s.intl.formatMessage({id:"frsN3v",defaultMessage:"Close"}),ae=s.intl.formatMessage({id:"TrW3XA",defaultMessage:"Your team is in <a>locked state</a>—your content and account may be deleted. Purchase a plan to send invites, access shared storage space, get advanced sharing options, and to upload and sync files. Or, cancel your team to use your Dropbox Basic plan."},{a:e=>U.default.createElement("a",{href:"https://help.dropbox.com/account-access/team-locked-state",target:"_blank",rel:"noopener noreferrer",onClick:()=>{b(a.LockedStateModalEntryPoint.LOCKED_STATE_MODAL,a.LockedStateModalCTA.HELP,!0)}},e)}),oe=s.intl.formatMessage({id:"fNBK3J",defaultMessage:"Continue to share"}),ne=s.intl.formatMessage({id:"Bap3K+",defaultMessage:"Continue to download"}),le=s.intl.formatMessage({id:"4Zj7Sc",defaultMessage:"Find a plan that works for you"}),re=s.intl.formatMessage({id:"90xcsE",defaultMessage:"Your trial has ended, and your account might be deleted. We have a plan that gives you full access to your content at a lower cost."}),se=s.intl.formatMessage({id:"U7Ox0Y",defaultMessage:"Your subscription has ended, and your account might be deleted. We have a plan that gives you full access to your content at a lower cost."}),ie=s.intl.formatMessage({id:"m9B+Dl",defaultMessage:"Your trial has ended and your account might be deleted. Based on your usage, the Plus plan might be a great fit to regain full access and keep you productive—at a lower cost."}),ce=s.intl.formatMessage({id:"SZBBS1",defaultMessage:"Your subscription has ended and your account might be deleted. Based on your usage, the Plus plan might be a great fit to regain full access and keep you productive—at a lower cost."}),de=s.intl.formatMessage({id:"feaT+T",defaultMessage:"A plan for teams"}),ue=s.intl.formatMessage({id:"EHq+Jq",defaultMessage:"/ user / month"}),me=e=>s.intl.formatMessage({id:"5XNl2+",defaultMessage:"Buy {planDropboxBrandDisplayName}"},{planDropboxBrandDisplayName:e}),_e=s.intl.formatMessage({id:"XVhF+U",defaultMessage:"A plan for one"}),pe=s.intl.formatMessage({id:"ZoAz6A",defaultMessage:"/ month"}),fe=s.intl.formatMessage({id:"OrBoZf",defaultMessage:"Suggested for you"}),Ee=(e,t)=>{switch(e){case a.LockedStateModalAction.SHARE_MODAL:case a.LockedStateModalAction.SHARE_LINK:return t?j:V;case a.LockedStateModalAction.DOWNLOAD:return t?z:Q;case a.LockedStateModalAction.UPLOAD:return t?J:X;case a.LockedStateModalAction.CLICK_LOCKED_STATE_PLUS_UPSELL_BANNER:return le;default:return""}},Se=({action:e,isAdmin:t,teamName:o,continueCallback:n,abortCallback:l,unmountLockedStateModal:r})=>{const i=t?ae:(e=>s.intl.formatMessage({id:"y7B3B0",defaultMessage:"The {team_name} is in <a>locked state</a>—your content and account may be deleted. Ask your admin to upgrade to continue collaborating, or leave your team."},{team_name:e,a:e=>U.default.createElement("a",{href:"https://help.dropbox.com/account-access/team-locked-state",target:"_blank",rel:"noopener noreferrer",onClick:()=>{b(a.LockedStateModalEntryPoint.LOCKED_STATE_MODAL,a.LockedStateModalCTA.HELP,!1)}},e)}))(o),c={text:t?ee:te,onClick:()=>{b(a.LockedStateModalEntryPoint.LOCKED_STATE_MODAL,t?a.LockedStateModalCTA.PURCHASE:a.LockedStateModalCTA.CLOSE,t),l(),t?a.open_tab("/business/billing"):r()}},d={text:t?$:Z,onClick:()=>{b(a.LockedStateModalEntryPoint.LOCKED_STATE_MODAL,t?a.LockedStateModalCTA.DISBAND:a.LockedStateModalCTA.LEAVE,t),l(),a.open_tab("/team/decide")}},u={text:e===a.LockedStateModalAction.SHARE_MODAL||e===a.LockedStateModalAction.SHARE_LINK?oe:e===a.LockedStateModalAction.DOWNLOAD?ne:"",onClick:()=>{b(a.LockedStateModalEntryPoint.LOCKED_STATE_MODAL,e===a.LockedStateModalAction.SHARE_MODAL||e===a.LockedStateModalAction.SHARE_LINK?a.LockedStateModalCTA.SHARE:a.LockedStateModalCTA.DOWNLOAD,t),n()}};return U.default.createElement(q,{onAfterClose:r,modalTitleText:Ee(e,t),modalBodyText:i,primaryCTA:c,secondaryCTA:d,tertiaryCTA:u,closeAriaLabel:te,closeButtonOnClick:()=>{b(a.LockedStateModalEntryPoint.LOCKED_STATE_MODAL,a.LockedStateModalCTA.CLOSE,t),l()}})};Se.displayName="FunctionalLockedStateModal";const Te=({eyebrowText:e,heading:t,monthlyPricePerUser:o,monthlyPricePerUserText:n,ctaProps:l,featureList:r,recommendationProps:s})=>{const{isRecommended:u,recommendedText:m}=s||{},{ctaText:_,ctaVariant:p,onCtaClick:f}=l;return U.default.createElement(a.Box,{width:"100%",borderColor:u?"Identity Green":"Border Base",borderWidth:u?"2":"0",borderRadius:"Large",borderStyle:"Solid",position:"relative"},U.default.createElement(a.Box,{visibility:u?"visible":"hidden"},U.default.createElement(c.RecommendationComponent,{text:m,recommendationVariant:c.TrialCardRecommendationVariants.PILL_HAT,recommendationIcon:d.UpsellLine})),U.default.createElement(i.CardNamespace,{hasBorders:!u,borderRadius:"Large"},U.default.createElement(i.CardNamespace.Content,null,U.default.createElement(a.Box,{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"Micro Large",paddingBottom:"Macro Medium"},U.default.createElement(a.Text,{color:"subtle",variant:"label",size:"medium"},e),U.default.createElement(a.Title,{weightVariant:"emphasized"},t),U.default.createElement(a.Text,{size:"large",isBold:!0},o,U.default.createElement(a.Text,{color:"subtle",variant:"label",isBold:!0,style:{marginLeft:"4px"}},n)),U.default.createElement(a.Box,{padding:"Micro XSmall"}),U.default.createElement(a.Text,{color:"subtle",size:"small",variant:"label"},U.default.createElement(a.FormattedMessage,{id:"rejrOs",defaultMessage:"when billed annually"}))),U.default.createElement(a.Box,{display:"flex",flexDirection:"column"},U.default.createElement(a.Box,{marginLeft:"Macro XSmall",marginRight:"Macro XSmall"},U.default.createElement(a.Button,{variant:p,size:"large",fullWidth:!0,onClick:f},_)),U.default.createElement(a.List,null,r.map((([e,t])=>U.default.createElement(a.List.Item,{key:null==t?void 0:t.toString(),spacing:"xsmall"},U.default.createElement(a.List.Accessory,null,U.default.createElement(a.UIIcon,{src:e})),U.default.createElement(a.List.Content,null,U.default.createElement(a.PartialBoldText,{text:t}))))))))))};Te.displayName="LockedStatePlanCard";const Me=({onAfterClose:e,title:o,description:n,currentPlanCardProps:l,recommendedPlanCardProps:r,cancelCtaProps:s,continueCtaProps:i,closeAriaLabel:c,closeButtonOnClick:d})=>{const[u,m]=t.useState(!0),_=!a.useBreakpoint({strategy:"minWidth"}).small;return U.default.createElement(a.Modal,{open:u,isCentered:!0,width:750,withCloseButton:c,onAfterClose:e,onRequestClose:()=>{d(),m(!1)}},U.default.createElement(a.Box,{padding:_?"0":"Macro Small"},U.default.createElement(a.Modal.Header,null,U.default.createElement(a.Modal.Title,null,o)),U.default.createElement(a.Modal.Body,null,U.default.createElement(a.Box,{paddingBottom:_?"Macro Large":"Macro Medium"},U.default.createElement(a.Text,{size:"medium",color:"subtle"},n)),U.default.createElement(a.Box,{display:"flex",flexDirection:_?"column-reverse":"row",width:"100%",justifyContent:"space-between"},U.default.createElement(a.Box,{marginRight:_?"0":"Macro XSmall",marginTop:_?"Macro XSmall":"0",flexGrow:1},U.default.createElement(Te,{...l})),U.default.createElement(a.Box,{flexGrow:1},U.default.createElement(Te,{...r})))),U.default.createElement(a.Modal.Footer,{preferComposition:!0},U.default.createElement(a.Box,{display:"flex",flexDirection:_?"column":"row",justifyContent:"space-between",alignItems:"center"},U.default.createElement(a.Button,{variant:"transparent",onClick:()=>{s.cancelCtaOnClick(),m(!1)}},s.cancelCtaText),i&&U.default.createElement(a.Box,{marginTop:_?"Micro Medium":"0"},U.default.createElement(a.Button,{variant:"transparent",onClick:()=>{i.continueCtaOnClick(),m(!1)}},i.continueCtaText))))))};Me.displayName="LockedStateUpsellModal";const Le=(e,t)=>e===a.LockedStateModalAction.CLICK_LOCKED_STATE_PLUS_UPSELL_BANNER?t===B.FSS_CHURNED_TEAM?se:re:t===B.FSS_CHURNED_TEAM?ce:ie,Ae=({action:e,teamSurfaceProps:t,fssTeamType:o,continueCallback:n,abortCallback:l,unmountLockedStateModal:r})=>{var i,c,u,m,_;if(!t)return null;const p=(null===(i=t.lockedStatePlusUpsellModalProps)||void 0===i?void 0:i.currentTeamPlanFeatureList)||[],f=(null===(c=t.lockedStatePlusUpsellModalProps)||void 0===c?void 0:c.plusPlanFeatureList)||[],E={eyebrowText:t.currentFssTeamPlanDisplayName,heading:de,monthlyPricePerUser:t.currentFssTeamPlanAdvertisedMonthlyPricePerLicenseInYearContract,monthlyPricePerUserText:ue,ctaProps:{ctaText:me(t.currentFssTeamPlanDropboxBrandDisplayName),ctaVariant:"outline",onCtaClick:()=>{b(a.LockedStateModalEntryPoint.UPSELL_LOCKED_STATE_MODAL,a.LockedStateModalCTA.PURCHASE_TEAM_PLAN,!0,o),a.redirect("/business/billing")}},featureList:[[a.PersonLine,p[0]||""],[a.SpaceLine,p[1]||""],[d.SendLine,p[2]||""],[a.ClockLine,p[3]||""]]},S={eyebrowText:(null===(u=t.lockedStatePlusUpsellModalProps)||void 0===u?void 0:u.plusPlanDisplayName)||"",heading:_e,monthlyPricePerUser:(null===(m=t.lockedStatePlusUpsellModalProps)||void 0===m?void 0:m.plusPlanAdvertisedMonthlyPriceInYearContract)||"",monthlyPricePerUserText:pe,ctaProps:{ctaText:me((null===(_=t.lockedStatePlusUpsellModalProps)||void 0===_?void 0:_.plusPlanDropboxBrandDisplayName)||""),ctaVariant:"primary",onCtaClick:()=>{b(a.LockedStateModalEntryPoint.UPSELL_LOCKED_STATE_MODAL,a.LockedStateModalCTA.PURCHASE_INDIVIDUAL_PLAN,!0,o),a.redirect("/buy/plus")}},recommendationProps:{isRecommended:!0,recommendedText:fe},featureList:[[a.PersonLine,f[0]||""],[a.SpaceLine,f[1]||""],[d.SendLine,f[2]||""],[a.ClockLine,f[3]||""]]},T={onAfterClose:r,title:Ee(e,!0),description:Le(e,t.fssTeamType),currentPlanCardProps:E,recommendedPlanCardProps:S,cancelCtaProps:{cancelCtaText:$,cancelCtaOnClick:()=>{b(a.LockedStateModalEntryPoint.UPSELL_LOCKED_STATE_MODAL,a.LockedStateModalCTA.DISBAND,!0,o),l(),a.redirect("/team/decide")}},continueCtaProps:{continueCtaText:"share_modal"===e||"share_link"===e?oe:"download"===e?ne:"",continueCtaOnClick:()=>{b(a.LockedStateModalEntryPoint.UPSELL_LOCKED_STATE_MODAL,e===a.LockedStateModalAction.SHARE_MODAL||e===a.LockedStateModalAction.SHARE_LINK?a.LockedStateModalCTA.SHARE:a.LockedStateModalCTA.DOWNLOAD,!0,o),n()}},closeAriaLabel:te,closeButtonOnClick:()=>{b(a.LockedStateModalEntryPoint.UPSELL_LOCKED_STATE_MODAL,a.LockedStateModalCTA.CLOSE,!0,o),l()}};return U.default.createElement(s.Provider,{value:s.intl},U.default.createElement(Me,{...T}))};Ae.displayName="FunctionalUpsellLockedStateModal";const Ce="LOCKED_STATE_MODAL",ge=()=>{a.unmountModal(void 0,Ce)};e.getIsUserEligibleForLockedStateModal=e=>Boolean(e.active_user&&e.active_user.is_team)&&e.team_is_locked,e.openLockedStateModal=async e=>{const{action:t,isAdmin:o,teamName:l,continueCallback:s,abortCallback:i}=e;let c=!0,d="";const u=(e,n,l=a.FssTeamType.FSS_TEAM_TYPE_UNKNOWN)=>{((e,t,o,n,l)=>{const r={eventState:e,actionSurface:t,actionElement:o,userRole:n?a.UserRole.TEAM_ADMIN:a.UserRole.TEAM_MEMBER,fssTeamType:l};"start"===e?a.UDCL.logStart(O(r),{tags:r}):a.UDCL.logEnd(O(r),{tags:r})})(e,n,t,o,l)};u("start",d);const{shouldShowLockedStatePlusUpsellModal:m,teamSurfaceProps:_,fssTeamType:p}=await G();d=m?a.LockedStateModalEntryPoint.UPSELL_LOCKED_STATE_MODAL:a.LockedStateModalEntryPoint.LOCKED_STATE_MODAL;try{const e=()=>{if(m)return U.default.createElement(Ae,{action:t,teamSurfaceProps:_,fssTeamType:p,continueCallback:s,abortCallback:i,unmountLockedStateModal:ge});if(t===a.LockedStateModalAction.CLICK_LOCKED_STATE_PLUS_UPSELL_BANNER)throw new Error("User doesn't see plus upsell modal on plus upsell banner entry point. This should never happen.");return U.default.createElement(Se,{action:t,isAdmin:o,teamName:l,continueCallback:s,abortCallback:i,unmountLockedStateModal:ge})};a.mountModal(U.default.createElement(n.QueryClientProvider,{client:n.queryClient},e()),void 0,Ce),u("success",d,p)}catch(e){u("failed",d,p),r.reportException({err:e,tags:["trials","locked_state_modal"]}),c=!1}return c}}));
//# sourceMappingURL=c_ui_locked-state-modal_open_locked_state_modal.js-vflt8a3Yz.map

//# debugId=1de5bcc9-538a-3eec-86e4-a36f1acaa1b9