!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="544f98af-d265-32e2-8184-32d1e3928adc")}catch(e){}}();
define(["exports","./e_file_viewer_static_scl_page_file","react","./c_ui_overlay","./c_lodash-es_lodash"],(function(t,e,s,i,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=n(s);const a={[i.StickyPosition.TOP]:"top",[i.StickyPosition.BOTTOM]:"bottom",[i.StickyPosition.LEFT]:"left",[i.StickyPosition.RIGHT]:"right",[i.StickyPosition.BOTTOM_ALIGN_RIGHT]:"bottom-align-right",[i.StickyPosition.BOTTOM_ALIGN_LEFT]:"bottom-align-left",[i.StickyPosition.TOP_ALIGN_RIGHT]:"top-align-right",[i.StickyPosition.TOP_ALIGN_LEFT]:"top-align-left"};class l extends r.default.Component{constructor(t){super(t),this.titleBubbleContainer=null,this.arrow=null,this._getTargetNode=()=>{if(this.titleBubbleContainer&&this.titleBubbleContainer.children.length>0){const t=this.titleBubbleContainer.children[0];if("NOSCRIPT"!==t.tagName){const e=this.titleBubbleContainer.getElementsByClassName("titleBubble-positioningTarget")[0]||t;return this.props.shouldReadContents&&t.setAttribute("aria-describedby",this.titleBubbleId),e}}return null},this._getPositionOffset=()=>{const t=this.props.distanceFromTarget?this.props.distanceFromTarget:0,e={horizontal:0,vertical:0};return a[this.props.position].match(/^top/)?e.vertical=-t:a[this.props.position].match(/^bottom/)?e.vertical=t:a[this.props.position].match(/^left/)?e.horizontal=-t:a[this.props.position].match(/^right/)&&(e.horizontal=t),e},this._adjustArrowPosition=t=>{if(t)switch(this.props.position){case i.StickyPosition.TOP_ALIGN_LEFT:case i.StickyPosition.BOTTOM_ALIGN_LEFT:this.arrow&&(this.arrow.style.left=t.offsetWidth/2+"px");break;case i.StickyPosition.TOP_ALIGN_RIGHT:case i.StickyPosition.BOTTOM_ALIGN_RIGHT:this.arrow&&(this.arrow.style.right=t.offsetWidth/2+"px")}},this.handleOnClick=()=>{this._throttledSetState({isFocused:!1,isHovering:!1})},this.handleOnFocus=()=>{this._throttledSetState({isFocused:!0})},this.handleOnBlur=()=>{this._throttledSetState({isFocused:!1})},this.handleOnEscKeyPress=t=>{t.stopPropagation(),"Escape"===t.key&&this._throttledSetState({isFocused:!1,isHovering:!1})},this.handleOnMouseEnter=()=>{this.props.onMouseEnter&&this.props.onMouseEnter(),this._throttledSetState({isHovering:!0})},this.setTitleBubbleContainerRef=t=>{this.titleBubbleContainer=t},this.setArrowRef=t=>{this.arrow=t},this.handleOnMouseLeave=()=>{var t;if(this.props.onMouseLeave&&this.props.onMouseLeave(),!this.state.targetNode)return;const e=this.state.targetNode===document.activeElement,s=Array.from(null===(t=this.state.targetNode)||void 0===t?void 0:t.children).some((t=>t===document.activeElement));e||s?this._throttledSetState({isHovering:!1}):this.props.allowInteractTooltip?this.closeTooltipId=setTimeout((()=>{this._throttledSetState({isFocused:!1,isHovering:!1})}),50):this._throttledSetState({isFocused:!1,isHovering:!1})},this.handleContentMouseEnter=()=>{this.props.allowInteractTooltip&&clearTimeout(this.closeTooltipId)},this.handleContentMouseLeave=()=>{this.props.allowInteractTooltip&&this._throttledSetState({isHovering:!1})},this.state={isFocused:!1,isHovering:!1,targetNode:null},this.titleBubbleId=o.uniqueId("react-title-bubble-")}componentDidMount(){const t=this._getTargetNode();t&&(this.setState({targetNode:t}),this._adjustArrowPosition(t)),this._throttledSetState=o.throttle(this.setState,void 0===this.props.throttleSpeed?100:this.props.throttleSpeed)}componentDidUpdate(){if(!this.state.targetNode){const t=this._getTargetNode();t&&this.setState({targetNode:t})}this._adjustArrowPosition(this.state.targetNode)}render(){const t={},s=a[this.props.position],o=e.cx("react-title-bubble",`react-title-bubble--${s}`,this.props.className),n=this.props.backgroundColor?{backgroundColor:this.props.backgroundColor}:{},l=document.body.classList.contains("tabbing");if(this.props.backgroundColor){t[`border-${s.split("-")[0]}-color`]=this.props.backgroundColor}return r.default.createElement("div",{"aria-label":this.props.ariaLabel,ref:this.setTitleBubbleContainerRef,className:e.cx("react-title-bubble__container",this.props.containerClassName),onClick:this.handleOnClick,onFocus:this.handleOnFocus,onBlur:this.handleOnBlur,onMouseEnter:this.handleOnMouseEnter,onMouseLeave:this.handleOnMouseLeave,onKeyDown:this.handleOnEscKeyPress},r.default.Children.only(this.props.children),this.state.isHovering||this.state.isFocused&&l?r.default.createElement(i.PositionedOverlay,{className:this.props.allowInteractTooltip?"":"react-title-bubble--disable-pointer",targetNode:this.state.targetNode?this.state.targetNode:void 0,isTargetPositionFixed:this.props.isTargetPositionFixed,position:this.props.position,positionOffset:this._getPositionOffset(),isContentFocusable:!1},r.default.createElement("div",{id:this.titleBubbleId,className:o,style:n,onMouseEnter:this.handleContentMouseEnter,onMouseLeave:this.handleContentMouseLeave},this.props.content,r.default.createElement("div",{ref:this.setArrowRef,className:"arrow",style:t}))):void 0)}}l.displayName="TitleBubble",l.defaultProps={distanceFromTarget:0,isTargetPositionFixed:!1,onMouseEnter:o.noop,onMouseLeave:o.noop,shouldReadContents:!1,className:"",containerClassName:"",allowInteractTooltip:!1};const h=e.requireCssWithComponent(l,["/static/metaserver/static/css/components/title_bubble-vflNHwZeu.css"]);t.TitleBubble=h}));
//# sourceMappingURL=c_ui_title_bubble.js-vflKdXvWT.map

//# debugId=544f98af-d265-32e2-8184-32d1e3928adc